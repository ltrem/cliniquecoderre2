{% extends 'admin/base.html.twig' %}

{% block body %}
    {{ form_start(form, {'method': 'post', 'action': path('admin_client_new'), 'attr': {'class': 'fos_user_registration_register'}}) }}

        <div class="row">
            <div class="col-xs-12">


                <div class="page-header">
                    <h3>{{ 'admin.client.new.title'|trans({}, 'messages') }}</h3>
                </div>

                <div class="col-sm-6">
                    <div class="form-group">
                        {{ form_label(form.client.firstname, null, { 'label_attr': {'class': 'control-label'}}) }}
                        {{ form_errors(form.client.firstname) }}
                        {{ form_widget(form.client.firstname, { 'attr': {'class': 'form-control'} }) }}
                    </div>
                </div>

                <div class="col-sm-6">
                    <div class="form-group">
                        {{ form_label(form.client.lastname, null, { 'label_attr': {'class': 'control-label'}}) }}
                        {{ form_errors(form.client.lastname) }}
                        {{ form_widget(form.client.lastname, { 'attr': {'class': 'form-control'} }) }}
                    </div>
                </div>

                <div class="col-sm-6">
                    <div class="form-group">
                        {{ form_row(form.client.birthdate) }}
                        {{ form_errors(form.client.birthdate) }}
                        {{ form_widget(form.client.birthdate, { 'attr': {'class': 'form-control'} }) }}
                    </div>
                </div>

                <div class="col-sm-6">
                    <div class="form-group">
                        {{ form_label(form.client.gender, 'client.gender', { 'label_attr': {'class': 'control-label'}}) }}
                        {{ form_errors(form.client.gender) }}
                        {{ form_widget(form.client.gender, { 'attr': {'class': 'form-control'} }) }}
                    </div>
                </div>

                <div class="col-sm-6">
                    <div class="form-group">
                        {{ form_label(form.client.coordinates[0].address, 'client.address', { 'label_attr': {'class': 'control-label'}}) }}
                        {{ form_errors(form.client.coordinates[0].address) }}
                        {{ form_widget(form.client.coordinates[0].address, { 'attr': {'class': 'form-control'} }) }}
                    </div>
                </div>

                <div class="col-sm-6">
                    <div class="form-group">
                        {{ form_label(form.client.coordinates[0].city, 'client.city', { 'label_attr': {'class': 'control-label'}}) }}
                        {{ form_errors(form.client.coordinates[0].city) }}
                        {{ form_widget(form.client.coordinates[0].city, { 'attr': {'class': 'form-control'} }) }}
                    </div>
                </div>

                <div class="col-sm-6">
                    <div class="form-group">
                        {{ form_label(form.client.coordinates[0].province, 'client.province', { 'label_attr': {'class': 'control-label'}}) }}
                        {{ form_errors(form.client.coordinates[0].province) }}
                        {{ form_widget(form.client.coordinates[0].province, { 'attr': {'class': 'form-control'} }) }}
                    </div>
                </div>

                <div class="col-sm-6">
                    <div class="form-group">
                        {{ form_label(form.client.coordinates[0].country, 'client.country', { 'label_attr': {'class': 'control-label'}}) }}
                        {{ form_errors(form.client.coordinates[0].country) }}
                        {{ form_widget(form.client.coordinates[0].country, { 'attr': {'class': 'form-control'} }) }}
                    </div>
                </div>

                <div class="col-sm-6">
                    <div class="form-group">
                        {{ form_label(form.client.contacts[0].phoneCell, 'client.phoneCell', { 'label_attr': {'class': 'control-label'}}) }}
                        {{ form_errors(form.client.contacts[0].phoneCell) }}
                        {{ form_widget(form.client.contacts[0].phoneCell, { 'attr': {'class': 'form-control'} }) }}
                    </div>
                </div>

                <div class="col-sm-6">
                    <div class="form-group">
                        {{ form_label(form.client.contacts[0].phoneCellCarrier, 'client.phoneCellCarrier', { 'label_attr': {'class': 'control-label'}}) }}
                        {{ form_errors(form.client.contacts[0].phoneCellCarrier) }}
                        {{ form_widget(form.client.contacts[0].phoneCellCarrier, { 'attr': {'class': 'form-control'} }) }}
                    </div>
                </div>

                <div class="col-sm-6">
                    <div class="form-group">
                        {{ form_label(form.client.contacts[0].phoneHome, 'client.phoneHome', { 'label_attr': {'class': 'control-label'}}) }}
                        {{ form_errors(form.client.contacts[0].phoneHome) }}
                        {{ form_widget(form.client.contacts[0].phoneHome, { 'attr': {'class': 'form-control'} }) }}
                    </div>
                </div>

                <div class="col-sm-6">
                    <div class="form-group">
                        {{ form_label(form.client.contacts[0].phoneWork, 'client.phoneWork', { 'label_attr': {'class': 'control-label'}}) }}
                        {{ form_errors(form.client.contacts[0].phoneWork) }}
                        {{ form_widget(form.client.contacts[0].phoneWork, { 'attr': {'class': 'form-control'} }) }}
                    </div>
                </div>

                <div class="col-sm-12" id="client_coordinates">
                    {{ form_rest(form.client) }}
                </div>

                {#
                                <div class="col-sm-12">
                                    <div class="row">


                                        <div class="col-sm-6">
                                            <div class="form-group">
                                                {{ form_label(form.client.contact.phoneCellCarrier, null, { 'label_attr': {'class': 'control-label'}}) }}
                                                {{ form_errors(form.client.contact.phoneCellCarrier) }}
                                                {{ form_widget(form.client.contact.phoneCellCarrier, { 'attr': {'class': 'form-control'} }) }}
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="col-sm-6">
                                    <div class="form-group">
                                        {{ form_label(form.client.contact.phoneHome, null, { 'label_attr': {'class': 'control-label'}}) }}
                                        {{ form_errors(form.client.contact.phoneHome) }}
                                        {{ form_widget(form.client.contact.phoneHome, { 'attr': {'class': 'form-control'} }) }}
                                    </div>
                                </div>

                                <div class="col-sm-6">
                                    <div class="form-group">
                                        {{ form_label(form.client.contact.phoneWork, null, { 'label_attr': {'class': 'control-label'}}) }}
                                        {{ form_errors(form.client.contact.phoneWork) }}
                                        {{ form_widget(form.client.contact.phoneWork, { 'attr': {'class': 'form-control'} }) }}
                                    </div>
                                </div>
                #}

            </div>

            <div class="col-xs-12">

                <div class="page-header">
                    <h3>{{ 'admin.client.new.profile_title'|trans({}, 'messages') }}</h3>
                </div>

                <div class="col-sm-12">
                    <div class="row">
                        <div class="col-sm-6">
                            <div class="form-group">
                                {{ form_label(form.email.first, 'registration.email.first', { 'label_attr': {'class': 'control-label'}}) }}
                                {{ form_errors(form.email.first) }}
                                {{ form_widget(form.email.first, { 'attr': {'class': 'form-control'} }) }}
                            </div>
                        </div>

                        <div class="col-sm-6">
                            <div class="form-group">
                                {{ form_label(form.email.second, 'registration.email.second', { 'label_attr': {'class': 'control-label'}}) }}
                                {{ form_errors(form.email.second) }}
                                {{ form_widget(form.email.second, { 'attr': {'class': 'form-control'} }) }}
                            </div>
                        </div>

                    </div>
                </div>

            </div>
        </div>

        {{ form_rest(form) }}

        <input class="btn btn-lg btn-primary btn-block" type="submit" id="_submit" name="_submit" value="{{ 'admin.client.new.submit'|trans }}" />

    {{ form_end(form) }}

{% endblock %}

{# https://symfony.com/doc/current/form/form_customization.html#how-to-customize-a-collection-prototype #}
    {% form_theme form _self %}
    {% block _user_profile_form_client_coordinates_entry_row %}
        {% spaceless %}
            {{ form_label(form) }}
            {{ form_errors(form) }}
            {{ form_widget(form) }}
        {% endspaceless %}
    {% endblock %}

    {% block _user_profile_form_client_coordinates_entry_label %}
    {% endblock %}


{% block javascripts %}
    {{ parent() }}
    <script>
        $( document ).ready(function() {
            $('.isPrimary').parent().hide();
        });
    </script>
{% endblock %}